<% content_for :stylesheet do %>
  <%= stylesheet_link_tag 'pages/songs/index' %>
<% end %>

<div class="right-align">
  <%= link_to new_group_song_path(current_group), class: 'btn-floating' do %>
    <i class="material-icons">add</i>
  <% end %>
</div>

<div id="legend" class="vertical-margin">
  <% get_tags_from_songs(@songs).each do |tag| %>
    <div class="tag-meaning">
      <tag :tag="<%= render template: 'songs/_tag.json.jbuilder', locals: { tag: tag } %>"></tag>
      <%= tag.name %>
    </div>
  <% end %>
</div>

<ul class="collection">
  <% @songs.each do |song| %>
    <%= link_to group_song_path(current_group, song), class: "collection-item" do %>
      <div class="song">
        <%= song.title %>
      </div>
      <div class="author">
        <% if song.author.present? %>
          <span class="light-text"><small><%= song.author %></small></span>
        <% end %>
      </div>
      <div class="light-text tone"><%= song.tone %></div>
      <div class="tags">
        <% song.tags.each do |tag| %>
          <tag :tag="<%= render template: 'songs/_tag.json.jbuilder', locals: { tag: tag } %>"></tag>
        <% end %>
      </div>
    <% end %>
  <% end %>
</ul>
